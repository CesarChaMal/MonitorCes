<?xml version = '1.0' encoding = 'UTF-8'?>
<TriggerOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.TriggerOraclev10g" name="TI_FOTO" directorySegmentName="seg_0" id="1690E5EB-C430-B5E8-91EF-AEF1E86D860B">
<sourceConnName>localhost</sourceConnName>
<sourceObjSchema>MONITOR</sourceObjSchema>
<sourceObjName>TI_FOTO</sourceObjName>
<createdBy>Cesar Chavez</createdBy>
<createdTime>2017-07-08 11:20:11 UTC</createdTime>
<ownerDesignName>ER-Model</ownerDesignName>
<actions>INSERT</actions>
<body>DECLARE NUMROWS INTEGER;&lt;br/&gt;BEGIN&lt;br/&gt;    /* ERwin Builtin martes, 20 de junio de 2017 01:04:36 a.m. */&lt;br/&gt;    /* sitio R/13 foto on child insert restrict */&lt;br/&gt;    /* ERWIN_RELATION:CHECKSUM=&quot;0002417d&quot;, PARENT_OWNER=&quot;&quot;, PARENT_TABLE=&quot;sitio&quot;&lt;br/&gt;    CHILD_OWNER=&quot;&quot;, CHILD_TABLE=&quot;foto&quot;&lt;br/&gt;    P2C_VERB_PHRASE=&quot;R/13&quot;, C2P_VERB_PHRASE=&quot;R/13&quot;, &lt;br/&gt;    FK_CONSTRAINT=&quot;R_13&quot;, FK_COLUMNS=&quot;cve_campana&quot;&quot;cve_plaza&quot;&quot;cve_clipro&quot;&quot;cve_sitio&quot; */&lt;br/&gt;    SELECT count(*) INTO NUMROWS&lt;br/&gt;      FROM sitio&lt;br/&gt;      WHERE&lt;br/&gt;        /* %JoinFKPK(:%New,sitio,&quot; = &quot;,&quot; AND&quot;) */&lt;br/&gt;        :new.cve_campana = sitio.cve_campana AND&lt;br/&gt;        :new.cve_clipro = sitio.cve_clipro AND&lt;br/&gt;        :new.cve_plaza = sitio.cve_plaza AND&lt;br/&gt;        :new.cve_sitio = sitio.cve_sitio;&lt;br/&gt;    IF (&lt;br/&gt;      /* %NotnullFK(:%New,&quot; IS NOT NULL AND&quot;) */&lt;br/&gt;&lt;br/&gt;      NUMROWS = 0&lt;br/&gt;    )&lt;br/&gt;    THEN&lt;br/&gt;      raise_application_error(&lt;br/&gt;        -20002,&lt;br/&gt;        &apos;Cannot insert foto because sitio does not exist.&apos;&lt;br/&gt;      );&lt;br/&gt;    END IF;&lt;br/&gt;&lt;br/&gt;    /* ERwin Builtin martes, 20 de junio de 2017 01:04:36 a.m. */&lt;br/&gt;    /* usuario R/14 foto on child insert restrict */&lt;br/&gt;    /* ERWIN_RELATION:CHECKSUM=&quot;00000000&quot;, PARENT_OWNER=&quot;&quot;, PARENT_TABLE=&quot;usuario&quot;&lt;br/&gt;    CHILD_OWNER=&quot;&quot;, CHILD_TABLE=&quot;foto&quot;&lt;br/&gt;    P2C_VERB_PHRASE=&quot;R/14&quot;, C2P_VERB_PHRASE=&quot;R/14&quot;, &lt;br/&gt;    FK_CONSTRAINT=&quot;R_14&quot;, FK_COLUMNS=&quot;email&quot; */&lt;br/&gt;    SELECT count(*) INTO NUMROWS&lt;br/&gt;      FROM usuario&lt;br/&gt;      WHERE&lt;br/&gt;        /* %JoinFKPK(:%New,usuario,&quot; = &quot;,&quot; AND&quot;) */&lt;br/&gt;        :new.email = usuario.email;&lt;br/&gt;    IF (&lt;br/&gt;      /* %NotnullFK(:%New,&quot; IS NOT NULL AND&quot;) */&lt;br/&gt;&lt;br/&gt;      NUMROWS = 0&lt;br/&gt;    )&lt;br/&gt;    THEN&lt;br/&gt;      raise_application_error(&lt;br/&gt;        -20002,&lt;br/&gt;        &apos;Cannot insert foto because usuario does not exist.&apos;&lt;br/&gt;      );&lt;br/&gt;    END IF;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;-- ERwin Builtin martes, 20 de junio de 2017 01:04:36 a.m.&lt;br/&gt;END;&lt;br/&gt;&lt;br/&gt;</body>
<triggerTime>BEFORE</triggerTime>
<owner>0864DCF3-C5FD-AD52-641E-B638BC7DC525</owner>
<table>5B067B4B-3EFE-02FD-A911-A25993132FFF</table>
</TriggerOraclev10g>